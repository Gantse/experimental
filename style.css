
    /* استيراد خط عربي عصري (مثال: خط كايرو) */
    /* يجب إضافة هذا السطر في ملف CSS إذا لم يكن الخط مستورداً في HTML */
    /* @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap'); */
    /* أو تأكد من إضافة <link> في ملف HTML: <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet"> */

    /* Reset وتنسيقات عامة محسنة */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Cairo', sans-serif; /* استخدام الخط الجديد */
        background: linear-gradient(to bottom right, #eef2f7, #dce3ee); /* خلفية متدرجة ناعمة */
        color: #333;
        direction: rtl;
        line-height: 1.7; /* تحسين قابلية القراءة أكثر */
        min-height: 100vh;
        display: flex; /* استخدام Flexbox لملء الارتفاع */
        flex-direction: column;
    }
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    .container {
        display: flex;
        flex-grow: 1; /* السماح للحاوية بالنمو لملء المساحة المتاحة */
        width: 100%;
        max-width: 1400px; /* تحديد أقصى عرض للحاوية */
        margin: 0 auto; /* توسيط الحاوية */
        background-color: rgba(255, 255, 255, 0.9); /* خلفية شبه شفافة للحاوية */
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.05); /* ظل خفيف جداً للحاوية ككل */
        border-radius: 15px; /* حواف مستديرة أكبر */
        overflow: hidden; /* لإخفاء الزوايا الحادة عند الحواف المستديرة */
    }

    header {
        background: linear-gradient(to bottom, #2c3e50, #1a252f); /* تدرج لوني للناف بار */
        color: white;
        width: 280px; /* زيادة عرض الناف بار قليلاً */
        padding: 30px 20px;
        position: fixed; /* يبقى ثابتاً */
        height: 100%;
        overflow-y: auto;
        box-shadow: 3px 0 15px rgba(0, 0, 0, 0.2); /* ظل أكثر وضوحاً */
        z-index: 100;
        transition: width 0.3s ease; /* انتقال لعرض الناف بار (لو أردنا تصغيره) */
    }

    header h1 {
        font-size: 1.8rem; /* تكبير العنوان */
        margin-bottom: 50px; /* زيادة المسافة */
        display: flex;
        align-items: center;
        gap: 10px;
        color: #ecf0f1; /* لون أفتح */
        font-weight: 700; /* خط أثقل */
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2); /* ظل نص بسيط */
    }

    nav ul {
        list-style: none;
    }

    nav ul li {
        margin-bottom: 10px; /* زيادة المسافة بين العناصر */
    }

    nav ul li a {
        color: rgba(255, 255, 255, 0.8);
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 15px; /* زيادة المسافة بين الأيقونة والنص */
        padding: 14px 16px; /* زيادة البادينج */
        border-radius: 8px; /* حواف أكثر استدارة */
        transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease; /* إضافة انتقال للتحويل */
        font-size: 1.05rem; /* حجم خط أكبر قليلاً */
        font-weight: 400;
        position: relative; /* لتنسيق الشريط الجانبي */
    }

    nav ul li a i {
        font-size: 1.2rem; /* تكبير الأيقونات */
        color: #bdc3c7; /* لون رمادي للأيقونات العادية */
        transition: color 0.3s ease;
    }

    nav ul li a::before { /* شريط جانبي متحرك للحالة النشطة والتمرير */
        content: '';
        position: absolute;
        top: 0;
        right: 0; /* في اتجاه RTL */
        width: 5px;
        height: 100%;
        background-color: #3498db; /* لون الشريط */
        border-radius: 0 8px 8px 0; /* حواف مستديرة للشريط */
        transform: scaleY(0); /* يبدأ مختفياً */
        transition: transform 0.3s ease-out;
    }


    nav ul li a:hover {
        color: white;
        background-color: rgba(52, 152, 219, 0.2); /* خلفية شفافة عند التمرير */
        transform: translateX(5px); /* تحريك طفيف عند التمرير */
    }
     nav ul li a:hover i {
         color: #3498db; /* تغيير لون الأيقونة عند التمرير */
     }


    nav ul li a.active {
        background-color: #3498db; /* لون خلفية أزرق للحالة النشطة */
        color: white;
        font-weight: 600; /* خط أثقل للحالة النشطة */
        box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3); /* ظل داخلي للحالة النشطة */
        transform: translateX(8px); /* تحريك أكبر للحالة النشطة */
    }

     nav ul li a.active::before { /* إظهار الشريط الجانبي في الحالة النشطة */
         transform: scaleY(1);
     }

      nav ul li a.active i {
         color: white; /* لون أبيض للأيقونة النشطة */
     }


    main {
        flex: 1;
        margin-right: 280px; /* نفس عرض الـ header الجديد */
        padding: 30px;
        transition: margin-right 0.3s ease; /* انتقال عند تغيير عرض الناف بار */
    }

    section {
        background-color: white;
        border-radius: 12px; /* حواف أكثر استدارة */
        padding: 30px; /* زيادة البادينج */
        margin-bottom: 30px; /* زيادة المسافة بين الأقسام */
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08); /* ظل أنعم وأكبر */
        display: none;
        border-top: 5px solid #3498db; /* شريط علوي أسمك بلون مميز */
        opacity: 0; /* تبدأ مخفية */
        transform: translateY(20px); /* تبدأ منخفضة قليلاً */
        transition: opacity 0.5s ease-out, transform 0.5s ease-out; /* انتقال للظهور */
    }

    section.active-section {
        display: block;
        opacity: 1; /* تظهر */
        transform: translateY(0); /* ترتفع لمكانها الطبيعي */
    }

    h2 {
        font-size: 2rem; /* تكبير العنوان */
        margin-bottom: 30px;
        color: #2c3e50;
        display: flex;
        align-items: center;
        gap: 12px; /* زيادة المسافة */
        padding-bottom: 15px; /* زيادة البادينج السفلي */
        border-bottom: 2px dashed #eee; /* خط فاصل منقط وأسمك قليلاً */
        font-weight: 600;
    }
    h2 i {
         color: #3498db;
         font-size: 1.8rem; /* تكبير أيقونة العنوان */
    }


    /* بطاقات الإحصائيات المحسنة بشكل كبير */
    .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* توزيع مرن للبطاقات بحجم أكبر */
        gap: 25px; /* زيادة المسافة بين البطاقات */
        margin-bottom: 30px;
    }

    .stat-card {
        background: linear-gradient(to bottom right, #ffffff, #f9f9f9); /* تدرج خفيف داخل البطاقة */
        border-radius: 12px;
        padding: 25px; /* زيادة البادينج */
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); /* ظل أنعم وأكثر انتشاراً */
        text-align: center;
        border-top: 6px solid; /* الشريط العلوي أسمك */
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        position: relative; /* لإضافة عنصر زخرفي */
        overflow: hidden; /* لإخفاء العنصر الزخرفي الزائد */
    }

     .stat-card::before { /* عنصر زخرفي في الزاوية */
         content: '';
         position: absolute;
         top: -20px;
         left: -20px; /* في اتجاه RTL */
         width: 80px;
         height: 80px;
         background-color: rgba(255, 255, 255, 0.1); /* لون شفاف جداً */
         transform: rotate(45deg);
         transition: background-color 0.3s ease;
     }


    .stat-card:hover {
         transform: translateY(-8px); /* رفع أكبر عند التمرير */
         box-shadow: 0 12px 25px rgba(0, 0, 0, 0.18); /* ظل أكبر وأوضح عند التمرير */
    }
     .stat-card:hover::before {
          background-color: rgba(255, 255, 255, 0.2); /* زيادة شفافية العنصر الزخرفي عند التمرير */
     }


    .stat-card:nth-child(1) { border-top-color: #3498db; } /* أزرق */
    .stat-card:nth-child(2) { border-top-color: #e74c3c; } /* أحمر للمنتهي */
    .stat-card:nth-child(3) { border-top-color: #2ecc71; } /* أخضر للمبيعات */
    .stat-card:nth-child(4) { border-top-color: #f1c40f; } /* أصفر للعملاء */


    .stat-card h3 {
        font-size: 1.1rem; /* تكبير النص الصغير */
        color: #555;
        margin-bottom: 15px;
        font-weight: 400;
    }

    .stat-card p {
        font-size: 2.5rem; /* تكبير حجم الرقم بشكل ملحوظ */
        font-weight: 700; /* خط أثقل */
        color: #2c3e50;
        margin-bottom: 5px;
    }
     .stat-card p .currency {
         font-size: 1.5rem; /* تكبير حجم العملة قليلاً */
         font-weight: 600;
         color: #7f8c8d; /* لون رمادي مختلف للعملة */
         margin-right: 5px;
     }


    /* الأزرار المحسنة بشكل كبير */
    button:not(.remove-prescription-item, .delete-btn, .payment-btn) { /* استبعاد بعض الأزرار الصغيرة أو الخاصة */
        background: linear-gradient(to right, #3498db, #2980b9); /* تدرج لوني للأزرار الأساسية */
        color: white;
        border: none;
        padding: 12px 25px; /* زيادة البادينج */
        border-radius: 8px; /* حواف أكثر استدارة */
        cursor: pointer;
        font-size: 1.05rem; /* حجم خط أكبر قليلاً */
        transition: background-color 0.3s ease, transform 0.1s ease, box-shadow 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 10px; /* زيادة المسافة */
        font-weight: 600; /* خط أثقل */
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* ظل بسيط للأزرار */
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1); /* ظل نص بسيط */
        position: relative;
        overflow: hidden;
    }

     button:not(.remove-prescription-item, .delete-btn, .payment-btn)::before { /* تأثير هافر لامع */
         content: '';
         position: absolute;
         top: 50%;
         left: 50%;
         width: 150%;
         height: 150%;
         background: rgba(255, 255, 255, 0.2);
         transform: translate(-50%, -50%) rotate(45deg) scale(0);
         transition: transform 0.5s ease;
     }

     button:not(.remove-prescription-item, .delete-btn, .payment-btn):hover::before {
         transform: translate(-50%, -50%) rotate(45deg) scale(1);
         opacity: 0; /* يختفي اللمعان بعد الظهور */
     }


    button:not(.remove-prescription-item, .delete-btn, .payment-btn):hover {
        background: linear-gradient(to right, #2980b9, #3498db); /* عكس التدرج عند التمرير */
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2); /* ظل أكبر عند التمرير */
    }
    button:not(.remove-prescription-item, .delete-btn, .payment-btn):active {
        transform: scale(0.95); /* تأثير ضغطة أكبر قليلاً */
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* ظل أصغر عند الضغط */
    }

    button i {
        font-size: 1.1rem; /* تكبير الأيقونة */
    }

    .actions {
        display: flex;
        gap: 15px; /* زيادة المسافة */
        margin-bottom: 25px;
        flex-wrap: wrap;
        align-items: center;
    }

    /* --- بداية تنسيقات شريط التمرير الأنيق --- */
    /* تنطبق هذه التنسيقات على العناصر التي تحتوي على شريط تمرير (overflow: auto/scroll) */

    /* شريط التمرير نفسه */
    ::-webkit-scrollbar {
      width: 8px; /* عرض شريط التمرير الرأسي */
      height: 8px; /* ارتفاع شريط التمرير الأفقي */
    }

    /* خلفية شريط التمرير */
    ::-webkit-scrollbar-track {
      background: #f1f1f1; /* لون الخلفية */
      border-radius: 10px; /* حواف مستديرة للمسار */
    }

    /* مقبض شريط التمرير (الجزء الذي تسحبه) */
    ::-webkit-scrollbar-thumb {
      background: #888; /* لون مقبض التمرير */
      border-radius: 10px; /* حواف مستديرة للمقبض */
      transition: background 0.3s ease;
    }

    /* مقبض شريط التمرير عند التمرير فوقه */
    ::-webkit-scrollbar-thumb:hover {
      background: #555; /* لون أغمق عند التمرير */
    }

    /* --- نهاية تنسيقات شريط التمرير الأنيق --- */


    /* فئة لتغليف الجداول لجعلها قابلة للتمرير أفقياً */
    .table-responsive-scroll {
        width: 100%; /* تأكد من أن الحاوية تملأ العرض المتاح */
        overflow-x: auto; /* تفعيل التمرير الأفقي عند الحاجة */
        margin-top: 25px; /* نقل هامش الجدول إلى الحاوية */
        /* تطبيق تنسيقات شريط التمرير المذكورة أعلاه سيتم تلقائياً لأنها على ::-webkit-scrollbar */
    }


    /* الجداول المحسنة */
    /* إزالة الهامش العلوي من الجدول نفسه لأنه تم نقله إلى الحاوية .table-responsive-scroll */
    table {
        width: 100%; /* الجدول يملأ عرض الحاوية */
        border-collapse: separate;
        border-spacing: 0;
        margin-top: 0; /* الهامش العلوي الآن في .table-responsive-scroll */
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08); /* ظل أنعم */
        border-radius: 10px; /* حواف مستديرة للجدول ككل */
        overflow: hidden;
        background-color: white;
        min-width: 700px; /* تعيين حد أدنى لعرض الجدول لجعل التمرير ضرورياً على الشاشات الصغيرة إذا لزم الأمر */
        /* ملاحظة: يمكن تعديل min-width حسب المحتوى الفعلي لضمان التمرير */
    }

    th, td {
        padding: 18px; /* زيادة البادينج بشكل ملحوظ */
        text-align: start;
        border-bottom: 1px solid #eee;
        font-size: 0.98rem; /* حجم خط أكبر قليلاً */
        white-space: nowrap; /* منع التفاف النص في الخلايا - مهم للتمرير الأفقي */
    }

    th {
        background-color: #34495e;
        color: white;
        font-weight: 600; /* خط أثقل */
        position: sticky;
        top: 0;
        z-index: 1;
        text-transform: uppercase; /* تحويل النص لأحرف كبيرة */
        letter-spacing: 0.5px; /* مسافة بين الحروف */
        background: linear-gradient(to right, #34495e, #2c3e50); /* تدرج لرأس الجدول */
    }

    tr:nth-child(even) {
        background-color: #f8f8f8; /* تظليل صفوف بديلة */
    }

    tr:hover {
        background-color: #f0f0f0;
        /* إزالة transform: scale(1.01); لأنها قد تسبب مشاكل مع التمرير الأفقي */
        transition: background-color 0.2s ease;
    }

    /* نموذج البحث والفلترة */
    .filter-controls {
        margin-bottom: 25px;
        display: flex;
        gap: 20px; /* مسافة أكبر بين العناصر */
        flex-wrap: wrap;
        align-items: center;
        background-color: #f9f9f9; /* خلفية خفيفة لمجموعة الفلترة */
        padding: 15px;
        border-radius: 8px;
        border: 1px solid #eee;
    }

    .filter-controls > div { /* حاويات للعناصر */
         flex: 1;
         min-width: 200px; /* حد أدنى أكبر للعرض */
    }

    .filter-controls label {
        font-weight: 600; /* خط أثقل */
        margin-inline-end: 8px; /* مسافة أكبر بعد الليبل */
        color: #555;
    }

    .filter-controls input, .filter-controls select {
        padding: 12px; /* زيادة البادينج */
        border: 1px solid #ccc;
        border-radius: 8px; /* حواف أكثر استدارة */
        width: 100%; /* لتملأ الحاوية */
        font-size: 1rem;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }
      .filter-controls input:focus, .filter-controls select:focus {
         outline: none;
         border-color: #3498db;
         box-shadow: 0 0 8px rgba(52, 152, 219, 0.3); /* ظل أزرق عند التركيز */
      }


    /* نقطة البيع المحسنة بشكل كبير */
    .pos-container {
        display: flex;
        gap: 30px; /* مسافة أكبر */
        flex-wrap: wrap;
    }

    .products-section {
        flex: 2;
        min-width: 350px; /* حد أدنى أكبر للعرض */
    }

    .cart-section {
        flex: 1;
        min-width: 300px; /* حد أدنى أكبر للعرض */
        background: linear-gradient(to bottom, #fdfdfd, #f0f0f0); /* تدرج خفيف */
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        border: 1px solid #eee;
        display: flex; /* استخدام فليكس لتحسين تنسيق المحتوى الداخلي */
        flex-direction: column;
    }

    .products-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); /* تعديل حجم البطاقة المرن وحجم أكبر */
        gap: 20px; /* زيادة المسافة */
        margin-top: 25px;
    }

    .product-card {
        background: linear-gradient(to bottom, #ffffff, #f9f9f9);
        border-radius: 10px;
        padding: 20px; /* زيادة البادينج */
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08); /* ظل أنعم */
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        text-align: center;
        border: 1px solid #eee;
        display: flex; /* استخدام Flexbox لتنسيق المحتوى داخلياً */
        flex-direction: column;
        justify-content: space-between; /* توزيع المساحة */
        min-height: 150px; /* حد أدنى للارتفاع */
    }

    .product-card:hover {
        transform: translateY(-6px); /* رفع أكبر */
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.12); /* ظل أكبر عند التمرير */
    }

    .product-card h3 {
        font-size: 1.2rem; /* تكبير العنوان */
        margin-bottom: 8px;
        color: #2c3e50;
        font-weight: 600;
    }

    .product-card p {
        color: #7f8c8d;
        font-size: 0.95rem;
        margin-bottom: 6px;
    }

    .product-card .price {
        font-weight: 700;
        color: #2ecc71; /* لون أخضر لسعر البيع */
        font-size: 1.4rem; /* تكبير السعر */
        margin-top: auto; /* يدفع السعر للأسفل */
    }
     .product-card .price .currency {
         font-size: 1rem;
         font-weight: normal;
         color: #555;
         margin-right: 3px;
     }


    .customer-info {
        margin-bottom: 25px;
        display: flex;
        gap: 15px; /* مسافة أكبر */
        align-items: center;
        flex-wrap: wrap;
        padding-bottom: 15px;
        border-bottom: 1px dashed #ddd; /* خط فاصل منقط */
    }

    .customer-info select {
        flex: 1;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 8px;
        min-width: 180px;
        font-size: 1rem;
    }

    /* تطبيق الفئة الجديدة على حاوية جدول السلة */
    /* هذا يعني أنك ستحتاج لتغليف جدول السلة بهذه الفئة في HTML */
    /* مثال: <div class="table-responsive-scroll"> <table class="cart-table">...</table> </div> */
    .cart-table { /* تنسيقات الجدول نفسه داخل الحاوية */
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 0; /* إزالة الهامش السفلي هنا، يمكن إضافته أسفل الحاوية إذا لزم الأمر */
         background-color: white;
         border-radius: 8px;
         overflow: hidden;
         box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
         min-width: 500px; /* حد أدنى لعرض جدول السلة لضمان التمرير أحياناً */
    }

     .cart-table th, .cart-table td {
         padding: 12px; /* زيادة البادينج */
         text-align: start;
         border-bottom: 1px solid #eee;
         font-size: 0.95rem;
         white-space: nowrap; /* منع التفاف النص */
     }
     .cart-table th {
         background-color: #f8f8f8;
         color: #555; /* لون رمادي لرأس الجدول */
         font-weight: 600;
     }
     .cart-table tbody tr:last-child td {
         border-bottom: none; /* إزالة الخط الفاصل في آخر صف */
     }


    .cart-table input[type="number"] {
        width: 70px; /* عرض أكبر */
        padding: 6px;
        border: 1px solid #ccc;
        border-radius: 5px;
        text-align: center;
         font-size: 1rem;
         transition: border-color 0.3s ease;
    }
     .cart-table input[type="number"]:focus {
          outline: none;
          border-color: #3498db;
     }

    .cart-table .delete-btn {
        background-color: transparent;
        color: #e74c3c;
        padding: 5px;
        box-shadow: none;
        font-size: 1rem;
        transition: color 0.3s ease, transform 0.1s ease;
    }
     .cart-table .delete-btn:hover {
         color: #c0392b;
         transform: scale(1.1);
     }
     .cart-table .delete-btn:active {
         transform: scale(0.9);
     }

     .cart-table .delete-btn i {
         font-size: 1rem;
     }


    .cart-summary {
        margin-top: 20px;
        padding-top: 20px;
        border-top: 2px dashed #ddd; /* خط منقط وأسمك */
    }

    .discount-section {
        display: flex;
        gap: 15px; /* مسافة أكبر */
        margin-bottom: 20px;
        align-items: center;
        flex-wrap: wrap;
    }

    .discount-section label {
        font-weight: 600;
         margin-inline-end: 8px;
         color: #555;
    }

    .discount-section input, .discount-section select {
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 8mm;
        flex: 1;
        min-width: 100px;
         font-size: 1rem;
         transition: border-color 0.3s ease;
    }
     .discount-section input:focus, .discount-section select:focus {
          outline: none;
          border-color: #3498db;
     }

     .discount-section select {
         flex: unset;
         width: 120px; /* عرض ثابت أكبر قليلاً */
     }


    .totals {
        margin-bottom: 25px;
    }

    .totals p {
        margin-bottom: 12px; /* مسافة أكبر */
        display: flex;
        justify-content: space-between;
        font-size: 1.1rem; /* حجم أكبر */
        color: #555;
    }
     .totals p strong {
         color: #333;
         font-weight: 600;
     }


    .totals .total {
        font-weight: 700;
        font-size: 1.6rem; /* حجم أكبر للمجموع النهائي */
        margin-top: 15px;
        padding-top: 15px;
        border-top: 3px solid #3498db; /* خط صلب أسمك بلون مميز */
        color: #2c3e50;
    }

    .payment-methods {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
        flex-wrap: wrap;
    }

    .payment-btn {
        flex: 1;
        padding: 15px; /* بادينج أكبر */
        text-align: center;
        background-color: #ecf0f1;
        color: #7f8c8d;
        border: 1px solid #ccc;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05); /* ظل خفيف */
        transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, transform 0.1s ease;
        font-size: 1rem;
        border-radius: 8mm;
    }

    .payment-btn:hover {
         background-color: #dce1e5;
         color: #555;
         transform: translateY(-2px); /* رفع بسيط عند التمرير */
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }


    .payment-btn.active {
        background-color: #3498db;
        color: white;
        border-color: #3498db;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        font-weight: 600;
    }

    #complete-sale {
        width: 100%;
        justify-content: center;
        background: linear-gradient(to right, #2ecc71, #27ae60); /* تدرج لوني لزر البيع */
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        font-size: 1.1rem; /* تكبير خط زر البيع */
    }

    #complete-sale:hover {
        background: linear-gradient(to right, #27ae60, #2ecc71); /* عكس التدرج */
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    }


    /* المودال المحسن بشكل كبير */
    .modal {
        display: none;
        position: fixed;
        z-index: 1050;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7); /* خلفية داكنة ومعتمة أكثر */
        overflow-y: auto;
        padding: 20px;
        animation: fadeIn 0.4s ease-out; /* انتقال ظهور أبطأ قليلاً */
        backdrop-filter: blur(5px); /* تأثير ضبابي للخلفية */
    }

    .modal-content {
        background-color: white;
        margin: 50px auto; /* هامش أكبر */
        padding: 40px; /* زيادة البادينج الداخلي بشكل كبير */
        border-radius: 15px; /* حواف مستديرة أكبر */
        width: 95%;
        max-width: 800px; /* زيادة الحد الأقصى للعرض */
        position: relative;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4); /* ظل واضح وعميق */
        animation: slideDown 0.4s ease-out; /* انتقال للنزول أبطأ قليلاً */
        border: 1px solid #ddd; /* حدود خفيفة */
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @keyframes slideDown {
        from { transform: translateY(-50px); opacity: 0; } /* تبدأ من أعلى أكثر */
        to { transform: translateY(0); opacity: 1; }
    }

    .close {
        position: absolute;
        top: 25px; /* تعديل الموقع */
        left: 25px; /* تعديل الموقع ليتناسب مع RTL */
        font-size: 2rem; /* تكبير علامة الإغلاق بشكل ملحوظ */
        cursor: pointer;
        color: #aaa;
        transition: color 0.3s ease, transform 0.2s ease;
    }

    .close:hover {
        color: #e74c3c; /* لون أحمر عند التمرير */
        transform: rotate(90deg); /* دوران عند التمرير */
    }

    .modal-title {
         font-size: 1.8rem; /* تكبير العنوان */
         margin-bottom: 25px;
         color: #2c3e50;
         padding-bottom: 15px;
         border-bottom: 2px solid #eee; /* خط فاصل أسمك */
         font-weight: 600;
    }

    .form-group {
        margin-bottom: 25px; /* زيادة المسافة بين مجموعات النموذج */
    }

    .form-group label {
        display: block;
        margin-bottom: 10px; /* زيادة المسافة */
        font-weight: 600; /* خط أثقل */
        color: #555;
        font-size: 1rem;
    }

    .form-group input:not([type="checkbox"]),
    .form-group select,
    .form-group textarea {
        width: 100%;
        padding: 14px; /* زيادة البادينج بشكل ملحوظ */
        border: 1px solid #ccc;
        border-radius: 8mm; /* حواف أكثر استدارة */
        font-size: 1rem;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
        background-color: #fefefe; /* خلفية بيضاء خفيفة */
    }
     .form-group input[type="checkbox"] {
        margin-inline-end: 8px; /* مسافة أكبر */
        vertical-align: middle;
        transform: scale(1.2); /* تكبير صندوق الاختيار قليلاً */
        cursor: pointer;
     }


    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
        outline: none;
        border-color: #3498db;
        box-shadow: 0 0 10px rgba(52, 152, 219, 0.4); /* ظل أزرق أوضح عند التركيز */
    }


    .form-group textarea {
        resize: vertical;
        min-height: 120px; /* زيادة الارتفاع الأدنى */
    }

    .modal-footer {
         margin-top: 30px;
         display: flex;
         justify-content: flex-end;
         gap: 15px; /* مسافة أكبر بين الأزرار */
         flex-wrap: wrap;
    }
    .modal-footer button {
         width: auto;
         min-width: 140px; /* عرض أدنى أكبر */
         font-size: 1rem;
         font-weight: 600;
    }

    #save-product, #save-customer, #save-prescription {
        background: linear-gradient(to right, #2ecc71, #27ae60); /* تدرج لوني لحفظ */
    }
     #save-product:hover, #save-customer:hover, #save-prescription:hover {
         background: linear-gradient(to right, #27ae60, #2ecc71);
     }
     #cancel-modal { /* زر إلغاء بتنسيق مختلف */
         background: #ccc;
         color: #555;
         box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
     }
      #cancel-modal:hover {
         background: #bbb;
         color: #333;
         box-shadow: 0 6px 15px rgba(0, 0, 0, 0.12);
      }


    /* الوصفات الطبية المحسنة */
    /* تطبيق الفئة الجديدة هنا أيضاً لتغليف جداول عناصر الوصفة */
    .prescription-items-container {
        margin: 25px 0; /* مسافة أكبر */
        border: 1px solid #eee;
        padding: 20px; /* زيادة البادينج */
        border-radius: 10mm;
        background-color: #f9f9f9;
        box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.05); /* ظل داخلي خفيف */
        /* إذا كان المقصود هو قائمة الوصفات ككل، فيجب تغليف جدول قائمة الوصفات بالـ .table-responsive-scroll */
    }

    .prescription-item {
        display: flex;
        gap: 15px; /* مسافة أكبر */
        margin-bottom: 20px; /* زيادة المسافة */
        align-items: center;
        flex-wrap: wrap; /* العناصر هنا تلتف بشكل طبيعي */
        padding-bottom: 15px;
        border-bottom: 1px dashed #ddd; /* خط فاصل منقط */
    }
    .prescription-item:last-child {
        border-bottom: none; /* إزالة الخط الفاصل في آخر عنصر */
        margin-bottom: 0;
        padding-bottom: 0;
    }

    .prescription-item > div {
         flex: 1;
         min-width: 180px; /* حد أدنى أكبر */
    }
     .prescription-item label { /* تنسيق الليبل داخل عناصر الوصفة */
         display: block;
         margin-bottom: 8px;
         font-weight: 600;
         color: #555;
         font-size: 0.95rem;
     }


    .prescription-item select, .prescription-item input[type="text"], .prescription-item input[type="number"] {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 8mm;
         font-size: 0.95rem;
         background-color: white;
         transition: border-color 0.3s ease;
    }
     .prescription-item select:focus, .prescription-item input:focus {
         outline: none;
         border-color: #3498db;
     }


    .remove-prescription-item {
        background-color: #e74c3c;
        color: white;
        border: none;
        width: 42px; /* حجم أكبر */
        height: 42px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.2s ease;
        flex-shrink: 0;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .remove-prescription-item:hover {
        background-color: #c0392b;
         transform: scale(1.15); /* تكبير أكبر */
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }
     .remove-prescription-item:active {
         transform: scale(0.9); /* تأثير ضغطة أكبر */
     }

     .remove-prescription-item i {
         font-size: 1.1rem; /* تكبير الأيقونة */
     }


    #add-prescription-item {
        background: linear-gradient(to right, #3498db, #2980b9); /* تدرج لوني لإضافة عنصر */
        margin-top: 15px;
        display: inline-flex;
        padding: 10px 20px;
        border-radius: 8mm;
        font-weight: 600;
    }

    #add-prescription-item:hover {
        background: linear-gradient(to right, #2980b9, #3498db);
    }


    /* الفاتورة المحسنة */
    .invoice-modal .modal-content {
         max-width: 900px; /* عرض أكبر جداً للفاتورة */
         padding: 40px 50px; /* بادينج أكبر وأكثر تناسقاً */
    }

    .invoice-header {
        text-align: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 3px solid #eee; /* خط فاصل مزدوج وأسمك */
    }

    .invoice-header h2 {
        justify-content: center;
        border-bottom: none;
        margin-bottom: 8px;
        color: #2c3e50;
        font-size: 2.2rem; /* تكبير عنوان الفاتورة */
        font-weight: 700;
    }
     .invoice-header p {
         font-size: 1.1rem; /* تكبير النص */
         color: #555;
         line-height: 1.8;
     }


    .invoice-customer {
        margin-bottom: 25px;
        padding-bottom: 20px;
        border-bottom: 1px dashed #ccc;
        color: #555;
        font-size: 1.1rem;
    }
    .invoice-customer p {
        margin-bottom: 8px;
    }
     .invoice-customer strong {
         color: #333;
         margin-inline-end: 8px;
         font-weight: 600;
     }

    /* تطبيق الفئة الجديدة على حاوية جدول الفاتورة */
    /* هذا يعني أنك ستحتاج لتغليف جدول الفاتورة بهذه الفئة في HTML */
    /* مثال: <div class="table-responsive-scroll"> <table class="invoice-items">...</table> </div> */
    .invoice-items { /* اسم الجدول في الفاتورة */
        width: 100%;
        margin-bottom: 0; /* إزالة الهامش السفلي */
         /* لا داعي للظل والحدود المستديرة هنا، لأنها داخل المودال */
        border-radius: 0;
        box-shadow: none;
         border: 1px solid #eee; /* إضافة حدود خفيفة للجدول داخل الفاتورة */
         border-radius: 8mm;
         overflow: hidden;
         min-width: 600px; /* حد أدنى لعرض جدول الفاتورة */
    }

    .invoice-items th {
        background-color: #34495e;
        color: white;
         padding: 15px; /* بادينج أكبر */
         font-weight: 600;
         text-transform: uppercase;
          white-space: nowrap; /* منع التفاف النص */
    }
     .invoice-items td {
         padding: 12px 15px; /* بادينج أكبر */
         border-bottom: 1px solid #eee;
         font-size: 1rem;
          white-space: nowrap; /* منع التفاف النص */
     }
     .invoice-items tbody tr:last-child td {
         border-bottom: none;
     }


    .invoice-totals {
        margin-top: 25px;
        padding-top: 25px;
        border-top: 3px solid #eee; /* خط فاصل مزدوج وأسمك */
    }

    .invoice-totals p {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px; /* مسافة أكبر */
        font-size: 1.2rem; /* حجم أكبر */
        color: #555;
    }
     .invoice-totals strong {
         color: #333;
         font-weight: 600;
     }

    .invoice-totals .total {
        font-weight: 700;
        font-size: 1.8rem; /* حجم أكبر جداً */
        margin-top: 20px;
        padding-top: 15px;
        border-top: 2px dashed #ccc;
        color: #2c3e50;
    }
    .invoice-totals .currency {
         font-size: 1.2rem;
         font-weight: normal;
         color: #7f8c8d;
         margin-inline-start: 8px;
    }

    .invoice-payment-method {
         text-align: end;
         margin-top: 20px;
         font-size: 1.1rem;
         color: #555;
         font-weight: 600;
    }

    .invoice-actions {
        display: flex;
        gap: 20px; /* مسافة أكبر */
        margin-top: 40px; /* مسافة أكبر */
        flex-wrap: wrap;
    }

    .invoice-actions button {
        flex: 1;
        justify-content: center;
        min-width: 180px; /* حد أدنى أكبر */
         padding: 14px 20px;
         font-size: 1.05rem;
    }

    #print-invoice {
        background: linear-gradient(to right, #3498db, #2980b9);
    }
    #print-invoice:hover {
        background: linear-gradient(to right, #2980b9, #3498db);
    }

    #email-invoice {
        background: linear-gradient(to right, #9b59b6, #8e44ad); /* تدرج أرجواني */
    }
     #email-invoice:hover {
         background: linear-gradient(to right, #8e44ad, #9b59b6);
     }


    /* التقارير المحسنة */
    .report-filters {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); /* توزيع مرن بحجم أكبر */
        gap: 20px;
        margin-bottom: 30px;
        align-items: flex-end;
        background-color: #f9f9f9;
        padding: 20px;
        border-radius: 10mm;
        border: 1px solid #eee;
    }

    .report-filters > div {
         width: 100%;
    }

    .report-filters label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #555;
        font-size: 1rem;
    }

    .report-filters select, .report-filters input[type="date"] {
        padding: 12px;
        border: 1px solid #ccc;
        border-radius: 8mm;
         font-size: 1rem;
         height: 45px; /* ارتفاع موحد أكبر */
         background-color: white;
         transition: border-color 0.3s ease;
         width: 100%; /* تأكد من أن عناصر الفلترة تملأ الحاوية */
    }
     .report-filters select:focus, .report-filters input[type="date"]:focus {
         outline: none;
         border-color: #3498db;
     }


    #custom-dates {
        display: none;
        gap: 10px;
        align-items: center;
        flex-wrap: wrap;
         width: 100%; /* تأكد أنها تملأ الحاوية */
    }
    #custom-dates label {
         margin-bottom: 0;
         flex-shrink: 0;
         font-weight: normal; /* وزن خط عادي هنا */
         color: #333;
    }
    #custom-dates input {
        flex: 1;
        min-width: 150px;
        height: 45px; /* ارتفاع موحد */
    }


    #customer-selection-div {
        display: none;
         width: 100%; /* تأكد أنها تملأ الحاوية */
    }
     #customer-selection-div select {
         width: 100%;
         height: 45px; /* ارتفاع موحد */
     }


    #generate-report, #export-report {
        height: 45px;
        width: auto;
        padding: 0 25px; /* بادينج أكبر */
        font-size: 1rem;
        font-weight: 600;
    }
    #export-report {
         background: linear-gradient(to right, #f39c12, #d35400); /* تدرج برتقالي */
    }
     #export-report:hover {
         background: linear-gradient(to right, #d35400, #f39c12);
     }

    /* حاوية جدول التقرير - تم تعديلها لتشمل التمرير الأفقي */
    .report-table-container {
        max-height: 450px; /* ارتفاع أكبر قليلاً */
        overflow-y: auto; /* يبقى التمرير الرأسي */
        overflow-x: auto; /* تفعيل التمرير الأفقي أيضاً */
        margin-top: 25px;
        border: none;
        box-shadow: none;
         /* تطبيق تنسيقات شريط التمرير المذكورة أعلاه تلقائياً */
    }
     .report-table-container table {
         margin-top: 0;
         min-width: 800px; /* حد أدنى لعرض جدول التقرير لضمان التمرير أحياناً */
     }
      .report-table-container th, .report-table-container td {
           white-space: nowrap; /* منع التفاف النص في خلايا جدول التقرير */
      }


    /* تنسيقات تقرير العميل التفصيلي المحسنة بشكل كبير */
    #customer-report-details-summary {
        margin-top: 30px;
        padding: 25px;
        background-color: #fefefe; /* خلفية فاتحة جداً */
        border-radius: 10mm;
        border: 1px solid #eee;
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);
    }
    #customer-report-details-summary h3 {
        margin-bottom: 20px;
        color: #2c3e50;
        font-size: 1.6rem; /* تكبير العنوان */
         border-bottom: 1px solid #ddd;
         padding-bottom: 10px;
         font-weight: 600;
    }
    #customer-report-details-summary p {
        margin-bottom: 12px; /* مسافة أكبر */
        font-size: 1.05rem; /* حجم أكبر */
        color: #555;
    }
    #customer-report-details-summary p strong {
        color: #333;
         margin-inline-end: 8px;
         font-weight: 600;
    }
    #customer-report-details-summary hr {
         margin: 25px 0;
         border: none;
         border-top: 1px dashed #ccc; /* خط منقط */
    }
     #customer-report-details-summary h4 {
         margin-bottom: 15px;
         color: #3498db;
         font-size: 1.3rem; /* تكبير */
         display: flex;
         align-items: center;
         gap: 10px;
         font-weight: 600;
     }
     #customer-report-details-summary h4 i {
         color: #f1c40f;
         font-size: 1.5rem; /* تكبير أيقونة */
     }
      #customer-report-details-summary small {
          display: block;
          margin-top: 20px;
          color: #777;
          font-size: 0.9rem;
          text-align: center;
      }


    /* أزرار الإجراءات في الجدول */
    td .edit-btn, td .delete-btn, td button {
        padding: 8px 15px; /* بادينج أكبر لأزرار الجدول */
        font-size: 0.95rem; /* حجم خط أكبر قليلاً */
        margin-inline-end: 8px; /* مسافة أكبر بين الأزرار */
         display: inline-flex;
         align-items: center;
         gap: 6px;
         border-radius: 6mm; /* حواف مستديرة أكثر */
         transition: background-color 0.3s ease, transform 0.1s ease, box-shadow 0.3s ease;
         flex-shrink: 0; /* منع الأزرار من الانكماش في الخلايا الضيقة */
         white-space: nowrap; /* منع التفاف النص داخل الأزرار */
    }
    td .edit-btn {
        background-color: #f39c12;
    }
    td .edit-btn:hover {
        background-color: #d35400;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
     td .delete-btn {
         background-color: #e74c3c;
     }
    td .delete-btn:hover {
        background-color: #c0392b;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
     /* زر صرف الوصفة */
     td button:not(.edit-btn):not(.delete-btn) {
         background-color: #2ecc71;
     }
     td button:not(.edit-btn):not(.delete-btn):hover {
         background-color: #27ae60;
         transform: translateY(-2px);
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
     }


    /* حالة المنتج في المخزون (تحسين الألوان والبروز) */
    tr.expired td {
        background-color: #ffebee !important; /* أحمر فاتح جداً وأكثر نعومة */
        color: #c0392b !important; /* لون نص أحمر داكن */
        font-weight: 600; /* خط أثقل */
    }
    tr.low-stock td {
        background-color: #fffde7 !important; /* أصفر فاتح جداً وأكثر نعومة */
        color: #f1c40f !important; /* لون نص برتقالي/أصفر داكن */
        font-weight: 600;
    }
     .status {
         display: inline-block;
         padding: 6px 12px; /* بادينج أكبر */
         border-radius: 15mm; /* حواف دائرية أكثر */
         font-size: 0.9rem; /* حجم أكبر */
         font-weight: 700; /* خط أثقل */
         text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
         white-space: nowrap; /* منع التفاف النص في الحالة */
     }
     .status-pending {
         background-color: #f1c40f;
         color: #333;
     }
     .status-completed {
         background-color: #2ecc71;
         color: white;
     }
     .status-cancelled {
         background-color: #e74c3c;
         color: white;
     }


    /* التجاوب مع الشاشات الصغيرة والمتوسطة - نقاط توقف محسنة */
    @media (max-width: 1200px) { /* نقطة توقف أكبر بقليل */
        .container {
            max-width: 100%; /* السماح للحاوية بملء العرض */
            margin: 0;
            border-radius: 0;
            box-shadow: none;
        }
         header {
             width: 250px; /* تقليل عرض الناف بار قليلاً */
         }
         main {
             margin-right: 250px; /* تعديل الهامش */
         }
         .stats {
              grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
              gap: 20px;
         }
         .product-card {
              min-height: 140px;
              padding: 15px;
         }
         .product-card h3 {
             font-size: 1.1rem;
         }
         .product-card .price {
             font-size: 1.3rem;
         }
         .pos-container {
              gap: 20px;
         }
         .products-section {
             min-width: 300px;
         }
         .cart-section {
             min-width: 280px;
         }
         .modal-content {
              max-width: 700px;
              padding: 30px;
         }
          .invoice-modal .modal-content {
               max-width: 800px;
               padding: 30px 40px;
          }
         .report-filters {
             grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
             gap: 15px;
         }
         /* تعديل min-width للجداول في هذا النطاق */
          table {
              min-width: 600px;
          }
          .cart-table {
              min-width: 450px;
          }
          .invoice-items {
              min-width: 550px;
          }
          .report-table-container table {
              min-width: 700px;
          }
    }


    @media (max-width: 992px) { /* نقطة توقف للأجهزة اللوحية */
         header {
             width: 220px; /* تقليل عرض الناف بار أكثر */
         }
         main {
             margin-right: 220px; /* تعديل الهامش */
             padding: 20px;
         }
         section {
             padding: 20px;
             margin-bottom: 20px;
              border-top-width: 4px;
         }
         h2 {
             font-size: 1.8rem;
             margin-bottom: 25px;
         }
         h2 i {
             font-size: 1.6rem;
         }
         .stats {
             grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); /* تقليل الحد الأدنى لعرض بطاقات الإحصاءات */
             gap: 15px;
         }
         .stat-card p {
             font-size: 2.2rem;
         }
          .product-card {
               min-height: 130px;
               padding: 12px;
          }
          .products-grid {
              grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); /* تقليل الحد الأدنى لعرض بطاقات المنتج */
              gap: 12px;
          }
         .product-card h3 {
             font-size: 1rem;
         }
         .product-card p {
             font-size: 0.85rem;
         }
         .product-card .price {
             font-size: 1.2rem;
         }
          .cart-section {
              padding: 20px;
          }
          .cart-table th, .cart-table td {
              padding: 10px;
          }
          .modal-content {
               padding: 25px;
          }
           .modal-title {
               font-size: 1.6rem;
           }
           .invoice-modal .modal-content {
                max-width: 700px;
                padding: 25px 30px;
           }
           .invoice-header h2 {
               font-size: 2rem;
           }
           .invoice-customer, .invoice-totals p {
               font-size: 1rem;
           }
           .invoice-totals .total {
               font-size: 1.6rem;
           }
           .report-filters {
               grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); /* تقليل الحد الأدنى لعرض عناصر الفلترة */
               gap: 10px;
           }
           /* تعديل min-width للجداول في هذا النطاق */
            table {
               min-width: 500px;
           }
           .cart-table {
               min-width: 400px;
           }
           .invoice-items {
               min-width: 500px;
           }
            .report-table-container table {
               min-width: 600px;
           }

    }

    @media (max-width: 768px) { /* نقطة التوقف للأجهزة المحمولة */
        .container {
            flex-direction: column;
            border-radius: 0;
        }

        header {
            width: 100%;
            position: static;
            height: auto;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.2);
            padding: 15px 20px;
        }
        header h1 {
             margin-bottom: 20px;
             font-size: 1.6rem;
             justify-content: center; /* توسيط العنوان في الهيدر الأفقي */
             text-align: center;
        }
         nav ul {
             display: flex;
             flex-wrap: wrap;
             gap: 10px;
             justify-content: center; /* توسيط عناصر القائمة في الهيدر الأفقي */
         }
         nav ul li {
             margin-bottom: 0;
         }
         nav ul li a {
             padding: 8px 15px;
             font-size: 0.95rem;
             gap: 8px;
              transform: none !important; /* إلغاء التحويل في الهيدر الأفقي */
              box-shadow: none !important;
         }
         nav ul li a.active {
             background-color: rgba(52, 152, 219, 0.8); /* خلفية زرقاء أقل بروزاً */
             font-weight: 400;
         }
          nav ul li a::before { /* إخفاء الشريط الجانبي في الهيدر الأفقي */
             display: none;
          }


        main {
            margin-right: 0;
            padding: 15px;
        }

        section {
            padding: 15px;
            margin-bottom: 15px;
             border-top-width: 3px;
             transform: translateY(0); /* إلغاء التحويل الأولي */
             opacity: 1; /* تظهر مباشرة */
             transition: none; /* إلغاء انتقال الظهور */
        }
         h2 {
             font-size: 1.6rem;
             margin-bottom: 20px;
             justify-content: center; /* توسيط العنوان */
         }
          h2 i {
              font-size: 1.4rem;
          }


        .pos-container {
            flex-direction: column;
            gap: 15px;
        }
         .products-section, .cart-section {
             min-width: unset;
             width: 100%;
         }
         .products-grid {
             grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); /* تقليل حجم بطاقات المنتج أكثر */
             gap: 8px;
         }
         .product-card {
             padding: 10px;
              min-height: 120px;
         }
         .product-card h3 {
             font-size: 0.9rem;
         }
         .product-card p {
             font-size: 0.8rem;
         }
         .product-card .price {
             font-size: 1.1rem;
         }
         .cart-section {
             padding: 15px;
         }
         .cart-table th, .cart-table td {
             padding: 8px;
             font-size: 0.9rem;
         }
         .cart-table input[type="number"] {
             width: 50px;
             padding: 4px;
         }


        .stats {
            flex-direction: column;
            gap: 15px;
        }
        .stat-card {
            width: 100%;
             border-top-width: 3px;
             padding: 20px;
        }
         .stat-card h3 {
             font-size: 0.9rem;
         }
         .stat-card p {
             font-size: 2rem;
         }


        .modal-content {
            width: 98%; /* عرض أكبر */
            margin: 15px auto;
            padding: 20px;
             border-radius: 10mm;
        }
         .modal-title {
             font-size: 1.5rem;
             margin-bottom: 20px;
         }
         .close {
             font-size: 1.5rem;
             top: 15px;
             left: 15px;
         }
         .form-group input, .form-group select, .form-group textarea {
             padding: 10px;
             font-size: 0.95rem;
         }
         .modal-footer {
             flex-direction: column;
             gap: 8px;
         }
         .modal-footer button {
             width: 100%;
             min-width: unset;
             padding: 10px 15px;
             font-size: 0.95rem;
         }
          .invoice-modal .modal-content {
               max-width: 98%;
               padding: 20px;
          }
          .invoice-header h2 {
              font-size: 1.8rem;
          }
          .invoice-customer, .invoice-totals p {
              font-size: 1rem;
          }
          .invoice-totals .total {
              font-size: 1.6rem;
          }
          .invoice-actions {
              flex-direction: column;
              gap: 10px;
          }
           .invoice-actions button {
               width: 100%;
               min-width: unset;
               padding: 10px 15px;
               font-size: 1rem;
           }
           /* تعديل min-width للجداول في هذا النطاق */
            table {
               min-width: 400px;
           }
           .cart-table {
               min-width: 350px;
           }
           .invoice-items {
               min-width: 400px;
           }
            .report-table-container table {
               min-width: 500px;
           }


        .report-filters {
            grid-template-columns: 1fr;
            gap: 10px;
            padding: 15px;
        }
         #custom-dates, #customer-selection-div {
             flex-direction: column;
             gap: 8px;
         }
         #custom-dates label, #customer-selection-div label {
             width: 100%;
             margin-inline-end: 0;
             text-align: start;
         }
         #custom-dates input, #customer-selection-div select {
              width: 100%;
              height: 40px;
              padding: 8px;
         }
         #generate-report, #export-report {
             height: 40px;
             width: 100%;
             padding: 0 15px;
             font-size: 0.95rem;
         }

         td .edit-btn, td .delete-btn, td button {
             padding: 4px 8px;
             font-size: 0.85rem;
             gap: 3px;
         }

         .prescription-item {
             flex-direction: column;
             gap: 10px;
             padding-bottom: 10px;
             margin-bottom: 10px;
         }
         .prescription-item > div {
              min-width: unset;
              width: 100%;
         }
          .remove-prescription-item {
             width: 35px;
             height: 35px;
          }
           #add-prescription-item {
               width: 100%;
               justify-content: center;
               padding: 8px 15px;
           }
           .prescription-items-container {
                padding: 15px;
           }
           .prescription-item select, .prescription-item input {
                padding: 8px;
           }
            .prescription-item label {
                font-size: 0.9rem;
                margin-bottom: 5px;
            }
    }

     /* تنسيقات خاصة للطباعة - محسنة */
     @media print {
         body {
             background: none !important;
             font-family: 'Cairo', sans-serif !important;
             color: #000 !important;
             direction: rtl !important;
             line-height: 1.5 !important;
         }
         header, .actions, .pos-container, .filter-controls, .modal, .invoice-actions {
             display: none !important;
         }
          main {
             margin-right: 0 !important;
             padding: 15px !important; /* بادينج مناسب للطباعة */
             width: 100% !important;
          }
          section {
              box-shadow: none !important;
              border: 1px solid #ddd !important; /* إضافة حدود للأقسام المطبوعة */
              padding: 15px !important;
              margin-bottom: 20px !important;
              page-break-inside: avoid; /* تجنب تقسيم القسم عبر الصفحات */
              background-color: #fff !important;
               -webkit-print-color-adjust: exact;
               border-top: 3px solid #3498db !important;
          }
          h2 {
              color: #333 !important;
              border-bottom: 1px solid #ccc !important;
              padding-bottom: 5px !important;
              margin-bottom: 15px !important;
              font-size: 1.5rem !important;
              font-weight: bold !important;
               justify-content: start !important; /* محاذاة لليمين في الطباعة */
          }
           h2 i {
               display: none; /* إخفاء أيقونات العناوين في الطباعة */
           }
           /* إخفاء حاوية التمرير في الطباعة وإظهار الجدول فقط */
           .table-responsive-scroll {
               overflow-x: visible !important;
               margin-top: 10px !important; /* هامش مناسب للطباعة */
               box-shadow: none !important;
           }
          table {
              box-shadow: none !important;
              border-radius: 0 !important;
              border: 1px solid #ccc !important;
              margin-top: 0 !important; /* الهامش في الحاوية */
              width: 100% !important;
               page-break-inside: auto; /* السماح بتقسيم الجدول */
               min-width: auto !important; /* إلغاء الحد الأدنى للعرض في الطباعة */
          }
           th, td {
               border: 1px solid #ccc !important;
               padding: 8px !important;
               color: #000 !important;
               font-size: 0.9rem !important;
               white-space: normal !important; /* السماح بالتفاف النص في الطباعة */
           }
            th {
                background-color: #f0f0f0 !important;
                -webkit-print-color-adjust: exact !important;
                color: #333 !important;
                font-weight: bold !important;
            }
            tr:nth-child(even) td {
                 background-color: #f8f8f8 !important;
                  -webkit-print-color-adjust: exact !important;
             }
            .chart-container {
                 height: 300px !important;
                 background-color: white !important;
                 box-shadow: none !important;
                 padding: 0 !important;
                 border: 1px solid #ccc !important;
                 margin-bottom: 20px !important;
                 page-break-inside: avoid;
                 display: block !important; /* تأكد من ظهوره إذا كان مخفياً */
             }
              /* قد تحتاج إلى مكتبة JavaScript لطباعة Chart.js بشكل صحيح */
             .customer-report-details-summary {
                 box-shadow: none !important;
                 border: 1px solid #ccc !important;
                 padding: 15px !important;
                 margin-top: 15px !important;
                 background-color: #f9f9f9 !important;
                  -webkit-print-color-adjust: exact !important;
                  page-break-inside: avoid;
            }
            .invoice-modal { /* تأكد من أن المودال الخاص بالفاتورة هو الذي يظهر فقط */
                position: static !important;
                display: block !important;
                background-color: transparent !important;
                overflow-y: visible !important;
                padding: 0 !important;
                backdrop-filter: none !important;
                z-index: auto !important;
            }
            .invoice-modal .modal-content {
                margin: 0 auto !important;
                width: 100% !important;
                max-width: 100% !important;
                box-shadow: none !important;
                border-radius: 0 !important;
                padding: 20px !important;
                border: none !important; /* إزالة حدود المودال نفسه */
            }
             .invoice-header {
                 border-bottom: 1px solid #ccc !important;
                 margin-bottom: 15px !important;
             }
              .invoice-header h2 {
                  justify-content: center !important;
              }
             .invoice-items {
                 border: none !important;
                 margin-bottom: 15px !important;
             }
             .invoice-totals {
                 border-top: 1px solid #ccc !important;
                 padding-top: 15px !important;
                 margin-top: 15px !important;
             }
             .invoice-payment-method {
                 font-weight: normal !important;
             }
              td .edit-btn, td .delete-btn, td button {
                  display: none !important; /* إخفاء أزرار الإجراءات في الطباعة */
              }

     }








/* تنسيق عام لجميع الجداول داخل أي <section> */
section table {
  display: block;
  overflow-x: auto;
  white-space: nowrap;
  width: 100%;
  border-collapse: collapse;
  margin-left:50px;
}

/* تنسيق رؤوس الجدول وخلاياه */
section table th,
section table td {
  padding: 10px 10px 10px 50px;
  border: 1px solid #ccc;
  text-align: center;
  white-space: nowrap;
}

/* تلوين رأس الجدول */
section table thead {
  background-color: #f2f2f2;
}







#pos-search {
    /* 1-10: التنسيقات الأساسية والحدود */
    width: 300px;
    height: 50px;
    padding: 10px 20px;
    font-size: 16px;
    border: 2px solid #ff6b6b;
    border-radius: 25px;
    outline: none;
    background-color: #f7fff7;
    color: #292f36;
    border:none; 
    font-family: 'Arial', sans-serif;
    
    /* 11-20: التدرجات اللونية والظلال */
    background-image: linear-gradient(to right, #f7fff7, #eaf4f4);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.05);
    border-image: linear-gradient(to right, #ff6b6b, #4ecdc4) 1;
    transition: all 0.3s ease-in-out;
    
    /* 21-30: التأثيرات عند التركيز (Focus) */
    &:focus {
        border-color: #4ecdc4;
        box-shadow: 0 0 10px rgba(78, 205, 196, 0.5);
        background-image: linear-gradient(to right, #ffffff, #eaf4f4);
        transform: scale(1.02);
    }
    
    /* 31-40: التأثيرات الإضافية والزخارف */
    &::placeholder {
        color: #6c757d;
        opacity: 0.7;
        font-style: italic;
    }
    
    &:hover {
        box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
    }
    
    /* تأثيرات متقدمة */
    backdrop-filter: blur(2px);
    -webkit-backdrop-filter: blur(2px);
    caret-color: #ff6b6b;
    letter-spacing: 0.5px;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
    resize: none;
    cursor: text;
    opacity: 0.9;
    
    /* تأثيرات الحركة */
    animation: pulse 2s infinite alternate;
    
    @keyframes pulse {
        from {
            box-shadow: 0 0 5px rgba(255, 107, 107, 0.5);
        }
        to {
            box-shadow: 0 0 20px rgba(78, 205, 196, 0.8);
        }
    }
}































/* تسجيل الدخول */
.login-container {
    max-width: 400px;
    margin: 50px auto;
    padding: 30px;
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    text-align: center;
}

.login-container h2 {
    color: #2c3e50;
    margin-bottom: 25px;
}

.login-form .form-group {
    margin-bottom: 20px;
    text-align: right;
}

.login-form input {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 16px;
    transition: all 0.3s;
}

.login-form input:focus {
    border-color: #3498db;
    box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
}

.login-btn {
    background: #3498db;
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    width: 100%;
    transition: background 0.3s;
}

.login-btn:hover {
    background: #2980b9;
}








/* نظام التنبيهات */
#alerts-container {
    position: fixed;
    top: 20px;
    left: 20px;
    right: 20px;
    max-width: 500px;
    margin: 0 auto;
    z-index: 1000;
}

.alert {
    padding: 15px;
    margin-bottom: 10px;
    border-radius: 5px;
    display: flex;
    align-items: center;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    animation: slideIn 0.5s forwards;
}

.alert i {
    margin-left: 10px;
    font-size: 1.2rem;
}

.alert-warning {
    background-color: #fff3cd;
    color: #856404;
    border-left: 5px solid #ffc107;
}

.alert-danger {
    background-color: #f8d7da;
    color: #721c24;
    border-left: 5px solid #dc3545;
}

.alert-success {
    background-color: #d4edda;
    color: #155724;
    border-left: 5px solid #28a745;
}

.alert button {
    margin-right: auto;
    background: none;
    border: none;
    color: inherit;
    cursor: pointer;
    display: flex;
    align-items: center;
}

@keyframes slideIn {
    from { transform: translateY(-100px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}





@media print {
    body * {
        visibility: hidden;
    }
    #invoice-modal, #invoice-modal * {
        visibility: visible;
    }
    #invoice-modal {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: auto;
        margin: 0;
        padding: 0;
        box-shadow: none;
        border: none;
    }
    .invoice-actions, .close {
        display: none !important;
    }
    .modal-content {
        box-shadow: none;
        border: none;
    }
}








/* سجل العمليات */
#logs-table {
    margin-top: 20px;
}

#logs-table th {
    background-color: #34495e;
    color: white;
    padding: 12px;
    text-align: center;
}

#logs-table td {
    padding: 10px;
    border-bottom: 1px solid #eee;
}

.undo-btn {
    background-color: #f39c12;
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.3s;
}

.undo-btn:hover {
    background-color: #e67e22;
}

.undo-btn i {
    margin-left: 5px;
}






/* إدارة الموردين */
.supplier-card {
    background: white;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    transition: transform 0.3s;
}

.supplier-card:hover {
    transform: translateY(-5px);
}

.supplier-card h3 {
    color: #2c3e50;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid #eee;
}

.supplier-info {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
}

.supplier-info p {
    margin: 5px 0;
}

.supplier-info strong {
    color: #7f8c8d;
    display: inline-block;
    width: 120px;
}




/* نظام المرتجعات */
#return-modal .modal-content {
    max-width: 600px;
}

#return-items-list {
    list-style: none;
    margin: 20px 0;
    padding: 0;
}

#return-items-list li {
    display: flex;
    align-items: center;
    padding: 10px;
    border-bottom: 1px solid #eee;
}

#return-items-list input[type="checkbox"] {
    margin-left: 10px;
}

#return-items-list input[type="number"] {
    width: 60px;
    margin-right: 10px;
    padding: 5px;
}

.return-summary {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 5px;
    margin-top: 20px;
}

.return-summary h4 {
    margin-top: 0;
    color: #2c3e50;
}






/* إدارة الديون */
.debt-card {
    background: white;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    border-left: 4px solid #e74c3c;
}

.debt-card h3 {
    margin-top: 0;
    color: #2c3e50;
}

.debt-card p {
    margin: 5px 0;
}

.debt-actions {
    display: flex;
    gap: 10px;
    margin-top: 15px;
}

.details-btn {
    background-color: #3498db;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
}

.reminder-btn {
    background-color: #f39c12;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
}

.debt-table {
    width: 100%;
    margin-top: 20px;
}

.debt-table th {
    background-color: #34495e;
    color: white;
    padding: 12px;
    text-align: center;
}

.debt-table td {
    padding: 10px;
    border-bottom: 1px solid #eee;
}





/* التحليلات المتقدمة */
.analytics-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin-top: 30px;
}

.analytics-card {
    background: white;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.analytics-card h3 {
    margin-top: 0;
    color: #2c3e50;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
}

.chart-container {
    position: relative;
    height: 300px;
    margin-top: 20px;
}

.analytics-filters {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
}

.analytics-filters .form-group {
    margin-bottom: 15px;
}

.analytics-filters label {
    display: block;
    margin-bottom: 5px;
    font-weight: 600;
    color: #555;
}

.analytics-filters select, 
.analytics-filters input {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid #ddd;
    border-radius: 4px;
}

@media (max-width: 768px) {
    .analytics-container {
        grid-template-columns: 1fr;
    }
}








/* تحسينات عامة للجداول */
table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 0.9em;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    overflow: hidden;
}

table th {
    background-color: #34495e;
    color: #ffffff;
    text-align: right;
    padding: 12px 15px;
    font-weight: 600;
}

table td {
    padding: 12px 15px;
    border-bottom: 1px solid #dddddd;
    text-align: right;
}

table tr:nth-child(even) {
    background-color: #f8f9fa;
}

table tr:hover {
    background-color: #f1f1f1;
}

table tr:last-child td {
    border-bottom: none;
}

.table-actions {
    display: flex;
    gap: 8px;
    justify-content: flex-start;
}

.table-actions button {
    padding: 5px 10px;
    font-size: 0.8em;
    border-radius: 4px;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 5px;
}

.table-actions button i {
    font-size: 0.9em;
}

.table-responsive {
    overflow-x: auto;
    margin-bottom: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}



/* تحسينات عناصر البحث */
.search-container {
    position: relative;
    margin-bottom: 20px;
    display: flex;
    gap: 10px;
    align-items: center;
}

.search-input {
    flex: 1;
    padding: 12px 15px;
    padding-right: 40px;
    border: 1px solid #ddd;
    border-radius: 30px;
    font-size: 1em;
    transition: all 0.3s;
    background-color: #f8f9fa;
}

.search-input:focus {
    outline: none;
    border-color: #3498db;
    box-shadow: 0 0 5px rgba(52, 152, 219, 0.3);
    background-color: white;
}

.search-icon {
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    color: #7f8c8d;
}

.search-filter {
    padding: 12px 15px;
    border: 1px solid #ddd;
    border-radius: 30px;
    font-size: 1em;
    background-color: #f8f9fa;
    cursor: pointer;
}

.search-filter:focus {
    outline: none;
    border-color: #3498db;
}

.search-button {
    background-color: #3498db;
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 30px;
    cursor: pointer;
    font-size: 1em;
    transition: background 0.3s;
    display: flex;
    align-items: center;
    gap: 8px;
}

.search-button:hover {
    background-color: #2980b9;
}

/* تأثيرات متقدمة لعناصر البحث */
.search-container.advanced {
    background: white;
    padding: 15px;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}

.search-container.advanced .search-input {
    background: white;
    border-radius: 5px;
}

.search-container.advanced .search-filter {
    background: white;
    border-radius: 5px;
}

/* تعديلات للهواتف */
@media (max-width: 768px) {
    .search-container {
        flex-direction: column;
    }
    
    .search-input, .search-filter, .search-button {
        width: 100%;
    }
}




/* تحسينات إضافية للواجهة */
.status-badge {
    display: inline-block;
    padding: 5px 10px;
    border-radius: 20px;
    font-size: 0.8em;
    font-weight: 600;
}

.status-active {
    background-color: #d4edda;
    color: #155724;
}

.status-inactive {
    background-color: #f8d7da;
    color: #721c24;
}

.status-pending {
    background-color: #fff3cd;
    color: #856404;
}

.quick-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
}

.quick-stat {
    background: white;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    border-left: 4px solid #3498db;
}

.quick-stat h3 {
    margin: 0 0 10px 0;
    font-size: 1em;
    color: #7f8c8d;
}

.quick-stat p {
    margin: 0;
    font-size: 1.5em;
    font-weight: 700;
    color: #2c3e50;
}

.empty-state {
    text-align: center;
    padding: 40px 20px;
    color: #7f8c8d;
}

.empty-state i {
    font-size: 3em;
    margin-bottom: 15px;
    color: #bdc3c7;
}

.empty-state h3 {
    margin: 0 0 10px 0;
    color: #2c3e50;
}

.empty-state p {
    margin: 0;
}
